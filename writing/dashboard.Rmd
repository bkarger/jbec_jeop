---
title: "jbec_jeop Dashboard"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
library(tidyverse)
library(tidyr)
library(scales)
library(gridExtra)
library(plotly)
library(DT)
```

Column {data-width=600}
-----------------------------------------------------------------------

### Chart A

```{r}
season_1 <- read_tsv("../data/jeopardy_clue_dataset-master/season16.tsv") %>% 
  filter(round == "1")
datatable(season_1)
```

Column {data-width=600}
-----------------------------------------------------------------------

### Chart B

```{r}
jep_data <- read_tsv("../data/jeopardy_clue_dataset-master/season16.tsv")

tournaments <- jep_data %>% 
  mutate(tournaments = notes == str_match_all(string = notes, pattern = ".*game.*")) %>%
  filter(tournaments == TRUE)

tournament_graph <- tournaments %>% 
  select(-c(comments:question, notes)) %>% 
  filter(daily_double == "yes") %>% 
  arrange(desc(value, air_date)) %>% 
  ggplot(aes(value, air_date)) +
  geom_point(aes(color = round)) +
  ggtitle("Tournaments") +
  facet_grid("round")
all_rounds <- jep_data %>% 
  select(-c(comments:question, notes)) %>% 
  filter(daily_double == "yes") %>% 
  arrange(desc(value, air_date)) %>% 
  ggplot(aes(value, air_date)) +
  geom_point(aes(color = round)) + 
  ggtitle("All Games") +
  facet_grid("round") 

all_rounds <- ggplotly(all_rounds)
tournament_graph <- ggplotly(tournament_graph)

subplot(all_rounds, tournament_graph, nrows = 2)
```

### Chart C

```{r}

```

